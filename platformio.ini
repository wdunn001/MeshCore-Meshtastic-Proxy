[env:lora32u4II]
platform = atmelavr
board = lora32u4II
framework = arduino

; MCU Configuration
board_build.mcu = atmega32u4
board_build.f_cpu = 8000000L

; Serial Monitor
monitor_speed = 115200
monitor_filters = 
    default

; Build flags
build_flags = 
    -DF_CPU=8000000L
    -DARDUINO_AVR_LEONARDO
    ; USB_VID and USB_PID are defined by Arduino framework, don't override
    -Wno-unused-value
    ; Suppress warnings from Arduino framework USBCore.cpp LED macros
    ; (LoRa32u4 II doesn't have USB status LEDs)

; Upload settings
upload_speed = 19200
; Slower speed for more reliable uploads with bootloader
upload_protocol = avr109
upload_flags = 
    -p$UPLOAD_PORT
    -b$UPLOAD_SPEED
    -P$UPLOAD_PORT
    -D
; -D flag disables auto-erase (sometimes helps with bootloader timing)
; Note: You MUST double-press RESET button before uploading!
; The bootloader is only active for ~8 seconds after double-press
